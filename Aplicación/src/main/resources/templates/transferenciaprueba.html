<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Transferir| UTN</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
    
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.13.0/css/all.css">
    <link rel="stylesheet" href="/css/main.css" />
</head>
<div class="wrapper fadeInDown">
    <div id="formContent" class="transferencia">
        <h1 style="font-size: 36px;">Transferencia</h1>
        <!-- Mostrar el mensaje de error si existe -->
        <div th:if="${errorMessage}" class="error-message" style="color: red;">
            <p th:text="${errorMessage}"></p>
        </div>
        <!-- Formulario -->
        <form action="/user/transfer" method="post">
            <h1 id="montoDispo" class="fadeIn">Monto Disponible:
                <span th:text="${user.creditCard.montoDisponible}"></span>
            </h1>
            <div style="position: relative;">
                <input type="text" id="monto" class="fadeIn second" name="monto" placeholder="Monto" th:value="${monto}">
                <div style="position: absolute; top: 50%; left: 10px; transform: translateY(-50%);">$</div>
            </div>
            <input type="text" id="destinatario" class="fadeIn third" name="destinatario" placeholder="Nombre de Usuario Destinatario" th:value="${destinatario}">
            <h1 id="tarjeta" class="fadeIn">Tarjeta:<span th:text="${user.creditCard.getMaskedCardNumber()}"></span></h1>
            <input type="text" id="cvv" class="fadeIn" name="cvv" placeholder="CVV">
            <!-- Campo oculto para el nombre del usuario -->
            <input type="hidden" name="username" th:value="${user.username}">
            <input type="submit" class="fadeIn fourth" value="Transferir">
        </form>
    </div>
</div>
</html>